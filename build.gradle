plugins {
    id 'java'
    id 'application'
}

application {
    // package and class to be main method
    mainClassName = 'myproject.BankSystemServer'
}

jar {
    manifest {
	// set location of main class        
	attributes 'Main-Class': "myproject.BankSystemServer"
	// places with classes which may be needed by JVM
    attributes 'Class-Path': 'commons-lang3-3.9.jar'
    }
	
    baseName = 'ProfessionalVersion'
}

task jarv2(type: Jar) {

	from(sourceSets.main.output) {
        include "$src/**"
    }
    
    from {
        configurations.compile.collect {
            it.isDirectory() ? it : zipTree(it)
        }
    }
    
    manifest {
	// set location of main class        
	attributes 'Main-Class': "src.main.java.myproject.BankSystemServer"
	// places with classes which may be needed by JVM
    attributes 'Class-Path': 'commons-lang3-3.9.jar'
    }
    
    exclude 'src/main/java/myproject/ProfessionalBankAccount.java'
    exclude 'src/main/java/myproject/CreditService.java'
    exclude 'src/main/java/myproject/CreateProAccount.java'
    
    baseName = 'StandardVersion'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'org.apache.commons', name: 'commons-lang3', version: '3.9'
    testImplementation group: 'junit', name: 'junit', version: '4.12'
}

